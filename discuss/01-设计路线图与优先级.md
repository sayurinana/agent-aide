# Aide 系统设计路线图与优先级

## 一、当前状态

核心文档 `aide-requirements.md` 已更新，包含：
- ✅ 项目背景和设计原则
- ✅ 组件职责定义（Command / Skill）
- ✅ 命令清单框架（init / prep / exec）
- ✅ 技能清单框架（flow / decide / env）
- ✅ 数据格式规范（待定项 JSON）
- ✅ 数据存储设计（.aide/ 目录）
- ✅ 实施结构（插件 + 程序目录）

待设计内容：
- [ ] Commands 详细内容
- [ ] SKILL.md 详细内容
- [ ] aide flow 子命令详细设计
- [ ] aide decide Web 界面设计
- [ ] 配置文件完整字段定义

---

## 二、设计顺序建议

### 方案 A：自顶向下（推荐）

```
Commands 详细内容
    ↓
SKILL.md 详细内容
    ↓
aide flow 详细设计
    ↓
aide decide Web 界面
    ↓
配置文件定义
```

**理由**：
1. Commands 是用户入口，定义了 LLM 的行为边界
2. SKILL.md 告诉 LLM 如何调用工具，依赖 Commands 中的流程定义
3. aide flow / decide 是具体实现，依赖上层设计
4. 配置文件是辅助，最后定义

### 方案 B：核心功能优先

```
aide decide（待定项 Web 界面）  ← 最独特的价值点
    ↓
aide flow（进度追踪）
    ↓
Commands + SKILL.md
    ↓
配置文件
```

**理由**：
1. aide decide 是整个系统最复杂、最有价值的部分
2. 先做核心功能可以尽早验证
3. Commands 可以后期完善

---

## 三、我的建议

**推荐方案 A**，原因：

1. **Commands 是用户可见的入口**
   - 定义清晰后，后续实现有明确目标
   - 可以从原 `ai-agent-memory/` 提取核心内容

2. **先文档后实现符合你的约束**
   - 你提到想先建立核心文档再开发
   - 方案 A 符合这个顺序

3. **aide decide 虽然重要但依赖清晰**
   - 它的输入格式（JSON）已经定义好了
   - 可以独立开发，不阻塞其他部分

---

## 四、下一步行动

如果你同意方案 A，我建议按以下顺序进行：

### Phase 1：Commands 设计
1. `/aide:init` - 从原体系提取项目认知+环境检测的要点
2. `/aide:prep` - 从原 `AI-AGENT_preparation.md` 提取核心流程
3. `/aide:exec` - 从原 `AI-AGENT_execution.md` 提取核心流程

每个 Command 我会产出：
- 详细的 `.md` 文件内容
- frontmatter 配置
- 与 aide 工具的交互点说明

### Phase 2：SKILL.md 设计
- aide 程序完整使用说明
- 所有子命令的参数和输出格式
- 典型使用示例

### Phase 3：aide flow 详细设计
- 状态机定义（环节 + 步骤）
- git 集成逻辑
- 流程校验规则
- 环节特定行为

### Phase 4：aide decide Web 界面
- 前端页面结构
- 交互流程
- API 设计

### Phase 5：配置文件
- 完整字段定义
- 默认值
- 注释模板

---

## 五、需要你确认

1. **设计顺序**：同意方案 A（自顶向下）吗？还是偏好方案 B？

2. **Commands 设计方式**：
   - 我是否应该直接从 `ai-agent-memory/` 提取并改写？
   - 还是你希望我先列出提取要点让你确认？

3. **设计粒度**：
   - 每个 Phase 完成后等你确认再继续？
   - 还是我连续产出，你集中审阅？

请在 `reply/` 目录创建回复文档告诉我。
