# /aide:load 命令设计文档

## 一、概述

`/aide:load` 是项目认知载入命令，用于按需载入项目文档，建立对项目的认知。

### 1.1 设计目标

| 目标 | 说明 |
|------|------|
| 按需载入 | 初次仅了解脉络，后续按需深入 |
| 节省 Token | 避免一次性加载过多信息 |
| 支持续接 | 为任务续接提供项目上下文 |

### 1.2 与旧命令的关系

本命令从原 `/aide:init` 中拆分出项目认知功能。

---

## 二、执行流程

```
┌─────────────────────────────────────────┐
│            /aide:load                    │
│      (通常由 /aide:run 自动调用)         │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│     检查项目文档配置                     │
│     aide config get docs.path            │
└─────────────────────────────────────────┘
                    │
        ┌──────────┴──────────┐
        ▼                     ▼
   [文档存在]            [文档不存在]
        │                     │
        ▼                     ▼
┌───────────────┐    ┌───────────────────┐
│ 载入总导览    │    │ 提示执行 /aide:docs│
│ 建立脉络认知  │    │ 或快速项目认知     │
└───────────────┘    └───────────────────┘
        │
        ▼
┌─────────────────────────────────────────┐
│     按需深入                             │
│     (根据任务需要载入相关区块)           │
└─────────────────────────────────────────┘
```

---

## 三、职责边界

### 3.1 本命令负责

- 检查项目文档是否存在
- 载入总导览文档
- 建立项目脉络认知
- 按需载入区块详细文档

### 3.2 本命令不负责

- 环境配置（由 `/aide:setup` 负责）
- 项目文档创建和维护（由 `/aide:docs` 负责）
- 任务准备和执行（由 `/aide:run` 负责）

---

## 四、调用方式

本命令通常**不单独执行**，而是由 `/aide:run` 在以下场景自动调用：

1. 续接未完成的任务时
2. 需要了解项目上下文时

---

## 五、文档载入策略

### 5.1 初次载入（脉络认知）

仅读取总导览文档，了解：
- 项目简介
- 技术栈
- 架构概述
- 区块索引

### 5.2 按需深入

根据任务需要，载入相关区块的详细文档：
- 任务涉及哪些模块 → 载入对应区块
- 需要了解某个功能 → 载入相关区块

### 5.3 快速认知（无文档时）

如果项目文档不存在，进行快速认知：
1. 阅读 README.md、CLAUDE.md
2. 阅读配置文件（package.json、Cargo.toml 等）
3. 探索目录结构

---

## 六、相关文档

- [执行文件](../../commands/load.md)
- [/aide:docs 命令](docs.md)
- [/aide:run 命令](run.md)
- [plugin 导览](../README.md)

---

## 七、版本信息

- 创建日期：2025-12-15
- 从 `/aide:init` 拆分而来
